<html>
<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Rediså­¦ä¹ ä¹‹è·¯(å››)ï¼šç®€å•å¼‚æ­¥é˜Ÿåˆ— | é¸¡æ¯›è’œçš®äº‹(â—&#39;â—¡&#39;â—)</title>

<link rel="shortcut icon" href="http://mofish.pily.life/favicon.ico?v=1689146956047">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="http://mofish.pily.life/styles/main.css">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"> -->

<style>
    hr {
        margin-top: 1rem;
        margin-bottom: 1rem;
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script> -->
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <style>
    /* å¯¼èˆªæ æ ·å¼ */
    .navbar {
        position: relative;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        -ms-flex-align: center;
        align-items: center;
        -ms-flex-pack: justify;
        justify-content: space-between;
        padding: 0.5rem 1rem;
    }

    .navbar-brand {
        display: inline-block;
        padding-top: 0.3125rem;
        padding-bottom: 0.3125rem;
        margin-right: 1rem;
        font-size: 1.25rem;
        line-height: inherit;
        white-space: nowrap;
    }

    .navbar-brand:hover,
    .navbar-brand:focus {
        text-decoration: none;
    }

    .navbar-nav {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-direction: column;
        flex-direction: column;
        padding-left: 0;
        margin-bottom: 0;
        list-style: none;
    }

    .navbar-collapse {
        -ms-flex-preferred-size: 100%;
        flex-basis: 100%;
        -ms-flex-positive: 1;
        flex-grow: 1;
        -ms-flex-align: center;
        align-items: center;
    }

    .navbar-toggler {
        padding: 0.25rem 0.75rem;
        font-size: 1.25rem;
        line-height: 1;
        background-color: transparent;
        border: 1px solid transparent;
        border-radius: 0.25rem;
    }

    .navbar-toggler:hover,
    .navbar-toggler:focus {
        text-decoration: none;
    }

    @media (min-width: 992px) {
        .navbar-expand-lg {
            -ms-flex-flow: row nowrap;
            flex-flow: row nowrap;
            -ms-flex-pack: start;
            justify-content: flex-start;
        }

        .navbar-expand-lg .navbar-nav {
            -ms-flex-direction: row;
            flex-direction: row;
        }

        .navbar-expand-lg .navbar-collapse {
            display: -ms-flexbox !important;
            display: flex !important;
            -ms-flex-preferred-size: auto;
            flex-basis: auto;
        }

        .navbar-expand-lg .navbar-toggler {
            display: none;
        }
    }

    @media (max-width: 991px) {
        #navbarSupportedContent {
            display: none;
        }
    }
</style>
<nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="å¤´åƒ">
        <div class="site-name gt-c-content-color-first">
            é¸¡æ¯›è’œçš®äº‹(â—&#39;â—¡&#39;â—)
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    é¦–é¡µ
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/tags" class="menu gt-a-link">
                    æ ‡ç­¾
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/archives" class="menu gt-a-link">
                    å½’æ¡£
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/about" class="menu gt-a-link">
                    å…³äº
                </a>
                
            </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1689146956047"
                action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢æ–‡ç« " />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>
<script>
    /* ç§»åŠ¨ç«¯å¯¼èˆªæ å±•å¼€/æ”¶èµ·åˆ‡æ¢ */
    document.getElementById('changeNavbar').onclick = function () {
        var element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>
    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Rediså­¦ä¹ ä¹‹è·¯(å››)ï¼šç®€å•å¼‚æ­¥é˜Ÿåˆ—
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        Â· 2021-07-22 Â·
                    </time>
                    
                        <a href="http://mofish.pily.life/tag/P-RRy8DydH/" class="post-tags">
                            # redis
                        </a>
                    
                </div>
                <div class="post-content">
                    <p>ğŸ“– å¯¹äºå¼‚æ­¥é˜Ÿåˆ—ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å°±æ˜¯Rabbitmqå’ŒKafkaè¿™ç§æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œæ¯•ç«Ÿè¿™äº›ä¸­é—´ä»¶éƒ½æ˜¯ä¸“ä¸šçš„æ¶ˆè´¹é˜Ÿåˆ—ï¼Œä½†æ˜¯å®ƒä»¬çš„å¤æ‚åº¦å’Œç‰¹æ€§ä¹‹å¤šæ˜¯éœ€è¦èŠ±ä¸€äº›ç²¾åŠ›å»ç†è§£çš„ã€‚</p>
<p>ğŸ¤¡ ä½†æ˜¯å¯¹äºåªæœ‰ä¸€ç»„æ¶ˆè´¹è€…çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥å–èˆçš„ä½¿ç”¨Redisæ¥ä½œä¸ºä¸€ç§æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ã€‚</p>
<!-- more -->
<h2 id="ç›®å½•">ç›®å½•</h2>
<ul>
<li><a href="#åŸºç¡€çŸ¥è¯†">åŸºç¡€çŸ¥è¯†</a></li>
<li><a href="#å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—">å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—List</a></li>
<li><a href="#ç®€å•å»¶æ—¶é˜Ÿåˆ—çš„å®ç°">ç®€å•å»¶æ—¶é˜Ÿåˆ—çš„å®ç°Zset</a></li>
<li><a href="#æ³¨æ„">æ³¨æ„</a></li>
</ul>
<br>
<figure data-type="image" tabindex="1"><img src="http://mofish.pily.life/post-images/1626943622345.jpg" alt="" width="200" height="200" loading="lazy"></figure>
<!-- more -->
<h2 id="a-nameåŸºç¡€çŸ¥è¯†åŸºç¡€çŸ¥è¯†a"><a name="åŸºç¡€çŸ¥è¯†">åŸºç¡€çŸ¥è¯†ğŸ‘‡ğŸ‘‡</a></h2>
<p>Redisçš„<code>list</code>æ•°æ®æ¥å£å¸¸ç”¨æ¥ä½œä¸ºå¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨ï¼Œä½¿ç”¨<code>rpush</code>/<code>lpush</code>æ“ä½œå…¥é˜Ÿåˆ—ï¼Œä½¿ç”¨<code>lpop</code>/<code>rpop</code>æ¥å‡ºé˜Ÿåˆ—ã€‚</p>
<figure data-type="image" tabindex="2"><img src="http://mofish.pily.life/post-images/1627005625781.png" alt="" loading="lazy"></figure>
<pre><code class="language-shell">&gt; rpush notify-queue apple banana pear 
(integer) 3 
&gt; llen notify-queue 
(integer) 3 
&gt; lpop notify-queue 
&quot;apple&quot;
&gt; llen notify-queue 
(integer) 2 
&gt; lpop notify-queue 
&quot;banana&quot;
&gt; llen notify-queue 
(integer) 1 
&gt; lpop notify-queue 
&quot;pear&quot;
&gt; llen notify-queue 
(integer) 0 
&gt; lpop notify-queue 
(nil)
</code></pre>
<p>ä¸Šé¢æ˜¯rpushå’Œlpopç»“åˆä½¿ç”¨å¾—ä¾‹å­ã€‚è¿˜å¯ä»¥ä½¿ç”¨ lpush å’Œ rpop ç»“åˆä½¿ç”¨ï¼Œæ•ˆæœæ˜¯ä¸€<br>
æ ·çš„ã€‚è¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
<!-- more -->
<h2 id="a-nameå¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—a"><a name="å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—">å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—ğŸ‘‡ğŸ‘‡</a></h2>
<p>å®¢æˆ·é€šè¿‡é˜Ÿåˆ—çš„popæ“ä½œæ¥è·å–æ¶ˆæ¯ï¼Œç„¶åè¿›è¡Œå¤„ç†ã€‚å¤„ç†å®Œäº†å†popä¸€ä¸ªï¼Œå¦‚æ­¤å¾ªç¯ï¼Œè¿™ä¾¿æ˜¯ä½œä¸ºé˜Ÿåˆ—æ¶ˆè´¹è€…çš„å®¢æˆ·ç«¯çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>å¯æ˜¯å¦‚æœé˜Ÿåˆ—ç©ºäº†æ€ä¹ˆåŠï¼Ÿå®¢æˆ·ç«¯å°±å›é™·å…¥popçš„æ­»å¾ªç¯ğŸ˜‡ï¼Œä¸åœçš„popï¼Œä»è€Œé€ æˆäº†ç©ºè½®å¾ªã€‚ç©ºè½®å¾ªä¸ä½†æ‹‰é«˜äº†å®¢æˆ·ç«¯CPUæ¶ˆè€—ï¼ŒRedisçš„QPSä¹Ÿä¼šè¢«æ‹‰é«˜ğŸ“ˆï¼Œä»è€Œé™ä½ğŸ“‰äº†Redisçš„æ€§èƒ½ã€‚</p>
<p>é€šå¸¸æˆ‘ä»¬ä½¿ç”¨<code>sleepæ–¹æ³•</code>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®©çº¿ç¨‹ç¡çœ 1ç§’æˆ–è€…0.5ç§’ï¼Œå°±å¯ä»¥è®©å®¢æˆ·ç«¯çš„CPUå’ŒRedisçš„QPSé™ä¸‹æ¥ğŸ“‰ğŸ“‰ã€‚</p>
<!-- more -->
<h3 id="é˜»å¡è¯»">é˜»å¡è¯»</h3>
<p>ç”¨ä¸Šé¢ç¡çœ çš„æ–¹å¼è™½ç„¶å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯åˆä¼šå¯¼è‡´å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ç¡çœ ä¼šå¯¼è‡´æ¶ˆæ¯çš„å»¶è¿Ÿå¢å¤§ï¼Œä¸èƒ½åŠæ—¶çš„æ¶ˆè´¹æ¶ˆæ¯ã€‚</p>
<p>è™½ç„¶ç¼©çŸ­ç¡çœ æ—¶é—´å¯ä»¥ç¼“è§£ï¼Œä½†æ˜¯ğŸ’¢æœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿå½“ç„¶ä¹Ÿæœ‰ï¼Œå°±æ˜¯bpop/brpopã€‚</p>
<p>è¿™ä¸¤ä¸ªæŒ‡ä»¤çš„å‰ç¼€å­—ç¬¦bä»£è¡¨çš„æ˜¯blockingï¼Œä¹Ÿå°±æ˜¯é˜»å¡è¯»ã€‚</p>
<p>é˜»å¡è¯»åœ¨é˜Ÿåˆ—æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œä¼šç«‹å³è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œä¸€æ—¦æ•°æ®åˆ°æ¥ï¼Œåˆ™ç«‹åˆ»é†’è¿‡æ¥ã€‚æ¶ˆæ¯çš„å»¶è¿Ÿå‡ ä¹ä¸ºé›¶ã€‚</p>
<h3 id="ç©ºé—²è¿æ¥è‡ªåŠ¨æ–­å¼€">ç©ºé—²è¿æ¥è‡ªåŠ¨æ–­å¼€</h3>
<p>ä½†æ˜¯è¿™é‡Œæœ‰ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼Œå°±æ˜¯<code>ç©ºé—²è¿æ¥è‡ªåŠ¨æ–­å¼€</code>çš„é—®é¢˜ï¼Œå¦‚æœçº¿ç¨‹ä¸€ç›´é˜»å¡åœ¨é‚£é‡Œï¼ŒRedisçš„å®¢æˆ·ç«¯è¿æ¥å°±æˆäº†é—²ç½®è¿æ¥ï¼Œé—²ç½®è¿‡ä¹…åï¼ŒæœåŠ¡å™¨ä¸€èˆ¬ä¼šä¸»åŠ¨æ–­å¼€è¿æ¥âŒï¼Œä»è€Œå‡å°‘ğŸ“‰é—²ç½®èµ„æºçš„å ç”¨ï¼Œè€Œè¿™ä¸ªæ—¶å€™blpop/brpopä¼šæŠ›å‡ºå¼‚å¸¸â—ï¸ã€‚</p>
<p>æ‰€ä»¥ç¼–å†™å®¢æˆ·ç«¯æ¶ˆè´¹è€…æ—¶æ³¨æ„è¦æ•è·å¼‚å¸¸ï¼Œè¿›è¡Œé‡æ–°è¿æ¥é‡è¯•â™»ï¸ã€‚</p>
<figure data-type="image" tabindex="3"><img src="http://mofish.pily.life/post-images/1628233896079.jpeg" alt="" width="200" height="200" loading="lazy"></figure>
<h2 id="a-nameç®€å•å»¶æ—¶é˜Ÿåˆ—çš„å®ç°ç®€å•å»¶æ—¶é˜Ÿåˆ—çš„å®ç°a"><a name="ç®€å•å»¶æ—¶é˜Ÿåˆ—çš„å®ç°">ç®€å•å»¶æ—¶é˜Ÿåˆ—çš„å®ç°</a></h2>
<p>å»¶æ—¶é˜Ÿåˆ—å°±æ˜¯å¸¦å»¶æ—¶åŠŸèƒ½çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç›¸è¾ƒäºæ™®é€šé˜Ÿåˆ—ï¼Œå®ƒå¯ä»¥åœ¨æŒ‡å®šæ—¶é—´æ¶ˆè´¹æ‰ä¿¡æ¯ã€‚<br>
æˆ‘ä»¬é€šè¿‡redisçš„æœ‰åºé›†åˆzsetæ¥å®ç°ç®€å•çš„å»¶è¿Ÿé˜Ÿåˆ—ï¼Œå°†æ¶ˆæ¯æ•°æ®åºåˆ—åŒ–ï¼Œä½œä¸ºzsetçš„valueï¼ŒæŠŠæ¶ˆæ¯å¤„ç†æ—¶é—´ä½œä¸ºscoreï¼Œæ¯æ¬¡é€šè¿‡zRangeByScoreè·å–ä¸€æ¡æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</p>
<h3 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h3>
<ul>
<li>ç”¨æˆ·ä¸‹å•åï¼Œ30åˆ†é’Ÿæœªæ”¯ä»˜ï¼Œè®¢å•è‡ªåŠ¨ä½œåºŸ</li>
<li>æ”¯ä»˜åï¼Œ24å°æ—¶æ²¡æœ‰è¯„è®ºå°±è‡ªåŠ¨äº”æ˜Ÿå¥½è¯„</li>
</ul>
<h3 id="phpç®€å•ä»£ç å®ä¾‹">PHPç®€å•ä»£ç å®ä¾‹</h3>
<p>å»¶æ—¶é˜Ÿåˆ—ç±»ï¼š</p>
<pre><code class="language-php">&lt;?php

class DelayQueue
{
    protected $prefix = 'delay_queue';
    protected $redis  = null;
    protected $key    = '';

    /**
     * è¿æ¥Redis
     * DelayQueue constructor.
     * @param $queue
     */
    public function __construct($queue)
    {
        $this-&gt;key   = $this-&gt;prefix . $queue;
        $this-&gt;redis = new Redis();
        $this-&gt;redis-&gt;connect('127.0.0.1', 6379);
        $this-&gt;redis-&gt;auth('111111');
    }

    /**
     * åˆ é™¤ä»»åŠ¡
     * @param $value
     * @return int
     */
    public function delTask($value) : int
    {
        return $this-&gt;redis-&gt;zRem($this-&gt;key, $value);
    }

    /**
     * æ·»åŠ ä»»åŠ¡
     * @param $name
     * @param $time
     * @param $data
     * @return int
     */
    public function addTask($name, $time, $data) : int
    {
        echo date('Y-m-d H:i:s') . ': æ–°å¢ä»»åŠ¡' . $name . PHP_EOL;
        return $this-&gt;redis-&gt;zAdd($this-&gt;key, $time, json_encode([
            'task_name' =&gt; $name,
            'task_time' =&gt; $time,
            'task_data' =&gt; $data
        ]));
    }

    /**
     * è·å–ä»»åŠ¡
     * @return array
     */
    public function getTask() : array
    {
        return $this-&gt;redis-&gt;zRangeByScore($this-&gt;key, 0, time(), ['limit' =&gt; [0,1]]);
    }

    /**
     * å¤„ç†ä»»åŠ¡
     * @return bool
     */
    public function dealTask() : bool
    {
        // æ¯æ¬¡åªå–ä¸€ä¸ªä»»åŠ¡
        $task = $this-&gt;getTask();
        if (empty($task)) {
            return false;
        }

        $task = current($task);
        // æœ‰å¹¶å‘çš„é—®é¢˜ï¼Œè¿™é‡Œåˆ¤æ–­å½“å‰é˜Ÿåˆ—æ˜¯å¦æŠ¢åˆ°åˆ°è¯¥ä»»åŠ¡
        if ($this-&gt;delTask($task)) {
            $task = json_decode($task, true);
            echo date('Y-m-d H:i:s') . ' è®¢å•ï¼šã€' . $task['task_name'] . 'ã€‘'. $task['task_data']['msg'] . PHP_EOL;
            return true;
        }

        return false;
    }

    /**
     * åˆå§‹åŒ–æ¨¡æ‹Ÿæ’å…¥ä»»åŠ¡
     */
    public function initTask()
    {
        $this-&gt;addTask('Close_S202108020001', time() + 30, ['msg' =&gt; 'è®¢å•è¶…æ—¶æœªæ”¯ä»˜ï¼Œè‡ªåŠ¨å–æ¶ˆ', 'order_id' =&gt; 'S202108020001']); //30såå¤„ç†
        $this-&gt;addTask('Close_S202108020002', time() + 60, ['msg' =&gt; 'è®¢å•è¶…æ—¶æœªæ”¯ä»˜ï¼Œè‡ªåŠ¨å–æ¶ˆ', 'order_id' =&gt; 'S202108020002']); //60såå¤„ç†
        $this-&gt;addTask('Close_S202108020003', time() + 90, ['msg' =&gt; 'è®¢å•è¶…æ—¶æœªæ”¯ä»˜ï¼Œè‡ªåŠ¨å–æ¶ˆ', 'order_id' =&gt; 'S202108020003']); //90såå¤„ç†
    }
}
</code></pre>
<p>æ¶ˆè´¹è„šæœ¬</p>
<pre><code class="language-php">&lt;?php
include_once &quot;DelayQueue.php&quot;;

set_time_limit(0);

$dealQueue = new DelayQueue('Order:DelayQueue');
$dealQueue-&gt;initTask();

while (true) {
    $dealQueue-&gt;dealTask();
    sleep(1);
}
</code></pre>
<!-- more -->
<figure data-type="image" tabindex="4"><img src="http://mofish.pily.life/post-images/1628234456791.jpeg" alt="" width="200" height="200" loading="lazy"></figure>
<h2 id="a-nameæ³¨æ„æ³¨æ„a"><a name="æ³¨æ„">æ³¨æ„</a></h2>
<blockquote>
<p>Redis ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯ 100% çš„å¯é æ€§ï¼Ÿ<br>
1.å¦‚æœä½¿ç”¨rpopè·å–ä»»åŠ¡çš„è¯ï¼Œç”±äºrpopæ²¡æœ‰é˜»å¡åŠŸèƒ½ï¼Œè„šæœ¬éœ€è¦è½®å¾ªæŸ¥çœ‹listé˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡ï¼Œé€ æˆèµ„æºæµªè´¹ï¼ˆå¯ä½¿ç”¨brpopï¼Œå¸¦æœ‰é˜»å¡åŠŸèƒ½ï¼‰ï¼›<br>
2.åŸºäºzsetè®¾è®¡çš„é˜Ÿåˆ—å­˜åœ¨å°† zrangebyscoreå’Œzremçš„åŸå­åŒ–æ“ä½œçš„é—®é¢˜ï¼Œä¼šå­˜åœ¨äº‰æŠ¢ä»»åŠ¡ï¼Œé€ æˆæµªè´¹ï¼Œæ­¤å¤–æ¶ˆæ¯æ—¶é—´å¦‚æœæœ‰è¯¯ä¼šé€ æˆä»»åŠ¡é¡ºåºæœ‰è¯¯ï¼›<br>
3.æ²¡æœ‰Ackæœºåˆ¶ï¼Œå®¢æˆ·ç«¯å–å‡ºä¿¡æ¯åï¼Œå¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯çš„æƒ…å†µå°±ä¼šé€ æˆä»»åŠ¡ä¸¢å¤±ï¼›</p>
</blockquote>
<blockquote>
<p>ä½•æ—¶ä½¿ç”¨ï¼Ÿ<br>
éœ€è¦å¼‚æ­¥å¤„ç†ä»»åŠ¡ï¼Œä¸”ä¸šåŠ¡é€»è¾‘æ¯”è¾ƒç®€å•çš„æ—¶å€™ï¼›<br>
ä»»åŠ¡æ•°é‡æ¯”è¾ƒå¹³ç¨³ï¼Œä¸ä¼šå‡ºç°å¤§é‡å †ç§¯çš„æ—¶å€™ï¼Œä¸ç„¶å®¹æ˜“å´©äº†ä¸¢å¤±ä»»åŠ¡ï¼›<br>
ä½¿ç”¨æ—¶è®°å¾—åŠ ä¸Šç¡®å®ä»»åŠ¡å¤„ç†æœºåˆ¶ï¼Œå³å–å‡ºä»»åŠ¡æ—¶ï¼ŒåŠ å…¥åˆ°æ­£åœ¨å¤„ç†ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¾…ä»»åŠ¡å¤„ç†å®Œå†è¿›è¡Œåˆ é™¤ï¼Œæ–¹å¼å®¢æˆ·ç«¯å¼‚å¸¸æ—¶ä»»åŠ¡ä¸¢å¤±ã€‚</p>
</blockquote>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">ä¸‹ä¸€ç¯‡</div>
                <a href="http://mofish.pily.life/post/redis_learning_03/" class="post-title gt-a-link">
                    Rediså­¦ä¹ ä¹‹è·¯(ä¸‰)ï¼šé™æµä¹‹Redis-Cell
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">æ‰“å·¥äººï¼æ‰“å·¥é­‚ï¼æˆ‘çˆ±æ‰“å·¥ï¼</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/myx1002/myx1002.github.io" target="_blank">Moyuxing</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="http://mofish.pily.life/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
